asthma_long[[1]]
asthma_sim_matrix <- asthma_long[-1] %>% as.matrix()
rownames(asthma_sim_matrix) <- asthma_long[[1]]
asthma_sim_matrix
asthma_sim_matrix %>% str()
asthma_sim_matrix %>% head()
1 - asthma_sim_matrix
1 - asthma_sim_matrix[1:5, 1:5]
asthma_sim_matrix[1:5, 1:5]
hclust(1 - asthma_sim_matrix)
asthma_sim_matrix %>% dim()
nrow(asthma_sim_matrix) * ncol(asthma_sim_matrix)
(asthma$journal_asthma %in% asthma$journal_x) %>% length()
(asthma$journal_asthma %in% asthma$journal_x) %>% mean()
(asthma$journal_asthma %in% asthma$journal_x) %>% sum()
(asthma$journal_x %in% asthma$journal_asthma) %>% sum()
asthma$journal_asthma %>% n_distinct()
1 %in% c(1,2)
c(1,2) %in% 1
(asthma$journal_x %in% asthma$journal_asthma) %>% length()
(asthma$journal_x %in% asthma$journal_asthma) %>% mean()
(asthma$journal_x %in% asthma$journal_asthma) %>% sum()
asthma[asthma$journal_x %in% asthma$journal_asthma]
asthma[asthma$journal_x %in% asthma$journal_asthma,]
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma,]
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma,]
asthma[asthma$journal_x %in% asthma$journal_asthma,]
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma]
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma] %>% qnorm()
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma] %>% pnorm()
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma] %>% dnorm()
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma] %>% fivenum()
asthma$cosine_similarity %>% fivenum()
asthma$cosine_similarity > 0.1358835
sum(asthma$cosine_similarity > 0.1358835)
asthma$journal_x[asthma$cosine_similarity > 0.1358835]
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma]
asthma$journal_x[asthma$cosine_similarity > 0.1358835]
asthma$journal_x[asthma$cosine_similarity > 0.1358835 & asthma$journal_x %in% asthma$journal_asthma]
asthma$journal_x[asthma$cosine_similarity > 0.1358835 & !(asthma$journal_x %in% asthma$journal_asthma)]
asthma$cosine_similarity %>% fivenum()
asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma] %>% fivenum()
inGroup_cossim <- asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma]
asthma$journal_x[asthma$cosine_similarity > quantile(inGroup_cossim, probs = 0.80) & !(asthma$journal_x %in% asthma$journal_asthma)]
quantile(inGroup_cossim, probs = 0.80)
asthma$journal_x[asthma$cosine_similarity > quantile(inGroup_cossim, probs = 0.75) & !(asthma$journal_x %in% asthma$journal_asthma)]
ingroup_asthma_cossim <- asthma$cosine_similarity[asthma$journal_x %in% asthma$journal_asthma]
asthma$journal_x[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.75) & !(asthma$journal_x %in% asthma$journal_asthma)]
ingroup_diabetes_cossim <- diabetes$cosine_similarity[diabetes$journal_x %in% diabetes$journal_asthma]
ingroup_diabetes_cossim <- diabetes$cosine_similarity[diabetes$journal_x %in% diabetes$journal_diabetes]
diabetes$journal_x[diabetes$cosine_similarity > quantile(ingroup_diabetes_cossim, probs = 0.75) & !(diabetes$journal_x %in% diabetes$journal_diabetes)]
diabetes$journal_x[diabetes$cosine_similarity > quantile(ingroup_diabetes_cossim, probs = 0.80) & !(diabetes$journal_x %in% diabetes$journal_diabetes)]
diabetes$journal_x[diabetes$cosine_similarity > quantile(ingroup_diabetes_cossim, probs = 0.85) & !(diabetes$journal_x %in% diabetes$journal_diabetes)]
diabetes$journal_x[diabetes$cosine_similarity > quantile(ingroup_diabetes_cossim, probs = 0.90) & !(diabetes$journal_x %in% diabetes$journal_diabetes)]
diabetes$journal_x[diabetes$cosine_similarity > quantile(ingroup_diabetes_cossim, probs = 0.95) & !(diabetes$journal_x %in% diabetes$journal_diabetes)]
ingroup_hiv_cossim <- hiv$cosine_similarity[hiv$journal_x %in% hiv$journal_hiv]
hiv$journal_x[hiv$cosine_similarity > quantile(ingroup_hiv_cossim, probs = 0.75) & !(hiv$journal_x %in% hiv$journal_hiv)]
hiv$journal_x[hiv$cosine_similarity > quantile(ingroup_hiv_cossim, probs = 0.80) & !(hiv$journal_x %in% hiv$journal_hiv)]
hiv$journal_x[hiv$cosine_similarity > quantile(ingroup_hiv_cossim, probs = 0.90) & !(hiv$journal_x %in% hiv$journal_hiv)]
hiv$journal_x[hiv$cosine_similarity > quantile(ingroup_hiv_cossim, probs = 0.85) & !(hiv$journal_x %in% hiv$journal_hiv)]
quantile(ingroup_hiv_cossim, probs = 0.85)
asthma$cosine_similarity[(asthma$journal_x %in% asthma$journal_asthma)]
asthma
pivot_wider(asthma, names_from = journal_asthma, values_from = cosine_similarity)
asthma_long <- pivot_wider(asthma, names_from = journal_asthma, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
asthma_sim_matrix
rownames(asthma_sim_matrix) <- asthma_long[[1]]
asthma_sim_matrix
heatmap(asthma_sim_matrix)
asthma_long <- pivot_wider(asthma, names_from = journal_x, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
rownames(asthma_sim_matrix) <- asthma_long[[1]]
heatmap(asthma_sim_matrix)
asthma_long <- pivot_wider(asthma, names_from = journal_asthma, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
rownames(asthma_sim_matrix) <- asthma_long[[1]]
heatmap(asthma_sim_matrix)
asthma_long <- pivot_wider(asthma, names_from = journal_asthma, values_from = cosine_similarity)
asthma %>% dplyr::arrange(cosine_similarity)
asthma_long <- asthma %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long <- asthma %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
rownames(asthma_sim_matrix) <- asthma_long[[1]]
heatmap(asthma_sim_matrix)
asthma_long
diabetes_long <- diabetes %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_diabetes, values_from = cosine_similarity)
diabetes_sim_matrix <- as.matrix(diabetes_long[-1])
rownames(diabetes_sim_matrix) <- diabetes_long[[1]]
heatmap(diabetes_sim_matrix)
hiv_long <- hiv %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_hiv, values_from = cosine_similarity)
hiv_sim_matrix <- as.matrix(hiv_long[-1])
rownames(hiv_sim_matrix) <- hiv_long[[1]]
heatmap(hiv_sim_matrix)
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.75) & !(asthma$journal_x %in% asthma$journal_asthma)] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.75) & !(asthma$journal_x %in% asthma$journal_asthma),] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.75) & !(asthma$journal_x %in% asthma$journal_asthma),] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
rownames(asthma_sim_matrix) <- asthma_long[[1]]
heatmap(asthma_sim_matrix)
asthma_long
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.70) & !(asthma$journal_x %in% asthma$journal_asthma),] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
rownames(asthma_sim_matrix) <- asthma_long[[1]]
heatmap(asthma_sim_matrix)
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.60) & !(asthma$journal_x %in% asthma$journal_asthma),] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.60) & !(asthma$journal_x %in% asthma$journal_asthma),] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_sim_matrix <- as.matrix(asthma_long[-1])
rownames(asthma_sim_matrix) <- asthma_long[[1]]
heatmap(asthma_sim_matrix)
asthma_long
asthma_long <- asthma[asthma$cosine_similarity > quantile(ingroup_asthma_cossim, probs = 0.65) & !(asthma$journal_x %in% asthma$journal_asthma),] %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long
asthma_long <- asthma %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long
visdat::vis_dat(asthma_long)
asthma_long <- asthma %>% dplyr::arrange(desc(cosine_similarity)) %>% pivot_wider( names_from = journal_asthma, values_from = cosine_similarity)
asthma_long
asthma_long$`Asthma research and practice` %>% max()
asthma_long$`Asthma research and practice` %>% max(na.rm = TRUE)
asthma_long[2,2]
asthma_long[2,2] %>% names()
asthma_long[2] %>% names()
asthma_long[2,] %>% rownames()
rownames(asthma_long)[2]
asthma_long[2,1]
is.na(asthma$cosine_similarity) %>% sum()
(asthma$cosine_similarity == 1) %>% sum()
(asthma$cosine_similarity == 0) %>% sum()
is.na(asthma_long)
asthma_sim_matrix
asthma_long
asthma_sim_matrix %>% head()
heatmap(asthma_long[-1])
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
asthma$journal_asthma %>% unique() %>% head(3)
diabetes$journal_diabetes %>% unique() %>% head(3)
hiv$journal_hiv %>% unique() %>% head(3)
asthma %>% summarise(distinct_x = n_distinct(journal_x),
distinct_asthma = n_distinct(journal_asthma))
diabetes %>% summarise(distinct_x = n_distinct(journal_x),
distinct_diabetes = n_distinct(journal_diabetes))
hiv %>% summarise(distinct_x = n_distinct(journal_x),
distinct_hiv = n_distinct(journal_hiv))
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(journal_hiv)
)
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
)
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
) %>% as.data.frame()
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv),
) %>% as.data.frame( row.names = "n_journals")
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv),
) %>% as.data.frame( row.names = c("n_journals"))
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
) %>% as.data.frame( row.names = c("n_journals"))
list(
distinct_x = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
) %>% as.data.frame( row.names = "n_journals")
list(
distinct_all = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
) %>% as.data.frame( row.names = "n_journals")
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::new_post(title = "Distance", author = "Sean D McAtee", ext = ".Rmd")
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
asthma
asthma %>% arrange(cosine_similarity)
asthma %>% arrange(desc(cosine_similarity))
asthma %>% group_by(journal_asthma) %>% summarise(cosimTop = max(cosine_similarity))
asthma
asthma[!(asthma$journal_x %in% asthma$journal_asthma)]
asthma[!(asthma$journal_x %in% asthma$journal_asthma),]
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>% group_by(journal_asthma) %>% summarise(cosimTop = max(cosine_similarity))
# Highest similarity for to each asthma journal, without selecting ingroup
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>% group_by(journal_asthma) %>% summarise(cosimTop = max(cosine_similarity))
# Highest similarity for to each asthma journal, without selecting ingroup
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>% group_by(journal_asthma) %>% which.max(cosine_similarity)
# Highest similarity for to each asthma journal, without selecting ingroup
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
group_by(journal_asthma) %>%
summarise(cosimTop = max(cosine_similarity),
top = journal_x[which.max(cosine_similarity)])
# Highest similarity pair for to each asthma journal, without ingroup pairs
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
group_by(journal_asthma) %>%
summarise(
top = journal_x[which.max(cosine_similarity)],
cosimTop = max(cosine_similarity)
)
# Highest similarity pair for to each asthma journal, without ingroup pairs
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
group_by(journal_asthma) %>%
summarise(
top_journal_x = journal_x[which.max(cosine_similarity)],
top_cosine_similarity = max(cosine_similarity)
)
# Highest similarity pair for to each diabetes journal, without ingroup pairs
diabetes[!(diabetes$journal_x %in% diabetes$journal_diabetes),] %>%
group_by(journal_diabetes) %>%
summarise(
top_journal_x = journal_x[which.max(cosine_similarity)],
top_cosine_similarity = max(cosine_similarity)
)
# Highest similarity pair for to each hiv journal, without ingroup pairs
hiv[!(hiv$journal_x %in% hiv$journal_hiv),] %>%
group_by(journal_hiv) %>%
summarise(
top_journal_x = journal_x[which.max(cosine_similarity)],
top_cosine_similarity = max(cosine_similarity)
)
# Highest similarity pair for to each asthma journal, without ingroup pairs
asthma_top_sim <- asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
group_by(journal_asthma) %>%
summarise(
top_journal_x = journal_x[which.max(cosine_similarity)],
top_cosine_similarity = max(cosine_similarity)
)
asthma_top_sim
# Highest similarity pair for to each diabetes journal, without ingroup pairs
diabetes_top_sim <- diabetes[!(diabetes$journal_x %in% diabetes$journal_diabetes),] %>%
group_by(journal_diabetes) %>%
summarise(
top_journal_x = journal_x[which.max(cosine_similarity)],
top_cosine_similarity = max(cosine_similarity)
)
diabetes_top_sim
# Highest similarity pair for to each hiv journal, without ingroup pairs
hiv_top_sim <- hiv[!(hiv$journal_x %in% hiv$journal_hiv),] %>%
group_by(journal_hiv) %>%
summarise(
top_journal_x = journal_x[which.max(cosine_similarity)],
top_cosine_similarity = max(cosine_similarity)
)
hiv_top_sim
# Highest similarity pair for to each asthma journal, without ingroup pairs
asthma_top_sim <- asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
group_by(journal_asthma) %>%
summarise(
journal_x = journal_x[which.max(cosine_similarity)],
cosine_similarity = max(cosine_similarity)
)
asthma_top_sim
# Highest similarity pair for to each diabetes journal, without ingroup pairs
diabetes_top_sim <- diabetes[!(diabetes$journal_x %in% diabetes$journal_diabetes),] %>%
group_by(journal_diabetes) %>%
summarise(
journal_x = journal_x[which.max(cosine_similarity)],
cosine_similarity = max(cosine_similarity)
)
diabetes_top_sim
# Highest similarity pair for to each hiv journal, without ingroup pairs
hiv_top_sim <- hiv[!(hiv$journal_x %in% hiv$journal_hiv),] %>%
group_by(journal_hiv) %>%
summarise(
journal_x = journal_x[which.max(cosine_similarity)],
cosine_similarity = max(cosine_similarity)
)
hiv_top_sim
hiv_top_sim %>% dplyr::arrange(cosine_similarity)
hiv_long <- hiv_top_sim %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_hiv, values_from = cosine_similarity)
hiv_long
hiv_long <- hiv_top_sim %>% dplyr::arrange(cosine_similarity) %>% pivot_wider( names_from = journal_x, values_from = cosine_similarity)
hiv_long
hiv_long <- hiv_top_sim %>% pivot_wider( names_from = journal_x, values_from = cosine_similarity)
hiv_long
hiv_top_sim
asthma_top_sim
asthma_top_sim$journal_x
asthma %>% dplyr::filter(journal_x == "Allergy") %>% dplyr::arrange(cosine_similarity) %>% head(2)
asthma %>% dplyr::filter(journal_x == "Allergy") %>% dplyr::arrange(desc(cosine_similarity)) %>% head(2)
asthma %>% dplyr::group_by(journal_x) %>% dplyr::arrange(desc(cosine_similarity)) %>% head(2)
asthma %>% dplyr::group_by(journal_x) %>% dplyr::arrange(desc(cosine_similarity), .by_group = TRUE) %>% head(2)
unique(asthma$journal_asthma[!(asthma$journal_x %in% asthma$journal_asthma),])  %>%
purrr::map_dfr(
~ asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
dplyr::filter(journal_x == .x ) %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
)
unique(asthma$journal_asthma[!(asthma$journal_x %in% asthma$journal_asthma),])
unique(asthma$journal_asthma[!(asthma$journal_x %in% asthma$journal_asthma)])
unique(asthma$journal_x[!(asthma$journal_x %in% asthma$journal_asthma)])
asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
dplyr::filter(journal_x == "Allergy") %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
unique(asthma$journal_asthma[!(asthma$journal_x %in% asthma$journal_asthma)]) %>%
purrr::map_dfr(
~ asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
dplyr::filter(journal_asthma == .x ) %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
)
diabetes[!(diabetes$journal_x %in% diabetes$journal_diabetes),] %>%
dplyr::filter(journal_x == "Allergy") %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
diabetes_top_sim <- unique(diabetes$journal_diabetes[!(diabetes$journal_x %in% diabetes$journal_diabetes)]) %>%
purrr::map_dfr(
~ diabetes[!(diabetes$journal_x %in% diabetes$journal_diabetes),] %>%
dplyr::filter(journal_diabetes == .x ) %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
)
asthma_top_sim
asthma_top_sim <- unique(asthma$journal_asthma[!(asthma$journal_x %in% asthma$journal_asthma)]) %>%
purrr::map_dfr(
~ asthma[!(asthma$journal_x %in% asthma$journal_asthma),] %>%
dplyr::filter(journal_asthma == .x ) %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
)
asthma_top_sim
diabetes_top_sim
hiv_top_sim
hiv_top_sim
unique(hiv$journal_hiv[!(hiv$journal_x %in% hiv$journal_hiv)])
unique(hiv$journal_hiv[!(hiv$journal_x %in% hiv$journal_hiv)]) %>%
purrr::map_dfr(
~ hiv[!(hiv$journal_x %in% hiv$journal_hiv),] %>%
dplyr::filter(journal_hiv == .x ) %>%
dplyr::arrange(desc(cosine_similarity))
)
unique(hiv$journal_hiv[!(hiv$journal_x %in% hiv$journal_hiv)]) %>%
purrr::map_dfr(
~ hiv[!(hiv$journal_x %in% hiv$journal_hiv),] %>%
dplyr::filter(journal_hiv == .x ) %>%
dplyr::arrange(desc(cosine_similarity)) %>% head(2)
)
hiv_top_sim <- unique(hiv$journal_hiv[!(hiv$journal_x %in% hiv$journal_hiv)]) %>%
purrr::map_dfr(
~ hiv[!(hiv$journal_x %in% hiv$journal_hiv),] %>%
dplyr::filter(journal_hiv == .x ) %>%
dplyr::arrange(desc(cosine_similarity)) %>%
head(2)
)
hiv_top_sim
asthma_top_sim$journal_x[!(hiv$journal_x %in% hiv$journal_hiv)] %>% unique()
asthma_top_sim
asthma_top_sim$journal_x %>% unique()
asthma_top_sim$journal_asthma %>% unique()
purrr::map_dfr((x <- unique(asthma_top_sim$journal_asthma)),
~ purrr::map_dfr((y <- unique(asthma_top_sim$journal_x)),
~ asthma %>%
filter(journal_x == x, journal_asthma == y)
)
)
purrr::map_dfr(.x = unique(asthma_top_sim$journal_asthma),
~ x <- .x
purrr::map_dfr(.x = unique(asthma_top_sim$journal_x),
~ y <- .x
asthma %>%
filter(journal_x == x, journal_asthma == y)
)
)
purrr::map_dfr(.x = unique(asthma_top_sim$journal_asthma),
~ x <- .x
purrr::map_dfr(.x = unique(asthma_top_sim$journal_x),
~ y <- .x
asthma %>%
filter(journal_asthma == x, journal_x == y)
)
)
purrr::map_dfr(.x = unique(asthma_top_sim$journal_asthma),
~ asthma %>%
filter(journal_asthma == .x)
)
purrr::map_dfr(.x = unique(asthma_top_sim$journal_asthma),
~ asthma %>%
df <- filter(journal_asthma == .x)
purrr::map_dfr(.x = unique(asthma_top_sim$journal_x),
~ df %>%
filter(journal_x == .x)
)
)
purrr::map_dfr(.x = unique(asthma_top_sim$journal_asthma),
~ asthma %>%
df <- filter(journal_asthma == .x);
purrr::map_dfr(.x = unique(asthma_top_sim$journal_x),
~ df %>%
filter(journal_x == .x)
)
)
unique(asthma_top_sim$journal_asthma)
1 % in% c(1,2)
1 %in% c(1,2)
asthma$journal_asthma %in% unique(asthma_top_sim$journal_asthma)
asthma$journal_x %in% unique(asthma_top_sim$journal_x)
sum(asthma$journal_x %in% unique(asthma_top_sim$journal_x))
asthma[asthma$journal_x %in% unique(asthma_top_sim$journal_x)]
asthma[asthma$journal_x %in% unique(asthma_top_sim$journal_x),]
asthma[asthma$journal_x %in% unique(asthma_top_sim$journal_x),] %>%
as.matrix()
asthma[asthma$journal_x %in% unique(asthma_top_sim$journal_x),] %>%
pivot_wider(names_from = journal_x, values_from = cosine_similarity)
asthma[asthma$journal_x %in% unique(asthma_top_sim$journal_x),] %>%
pivot_wider(names_from = journal_x, values_from = cosine_similarity) %>% visdat::vis_miss()
asthma_long <- asthma[asthma$journal_x %in% unique(asthma_top_sim$journal_x),] %>%
pivot_wider(names_from = journal_x, values_from = cosine_similarity) # %>% visdat::vis_miss()
asthma_long
asthma_long[-1]
as.matrix(asthma_long[-1])
asthma_sim_matrix <- as.matrix(asthma_long[-1])
asthma_sim_matrix
rownames(asthma_sim_matrix) <- asthma_long[[1]]
asthma_sim_matrix
heatmap(asthma_sim_matrix)
diabetes_long <- diabetes[diabetes$journal_x %in% unique(diabetes_top_sim$journal_x),] %>%
pivot_wider(names_from = journal_x, values_from = cosine_similarity)
rownames(
diabetes_sim_matrix <- as.matrix(diabetes_long[-1])
) <- diabetes_long[[1]]
diabetes_long <- diabetes[diabetes$journal_x %in% unique(diabetes_top_sim$journal_x),] %>%
pivot_wider(names_from = journal_x, values_from = cosine_similarity)
diabetes_sim_matrix <- as.matrix(diabetes_long[-1])
rownames(diabetes_sim_matrix) <- diabetes_long[[1]]
heatmap(diabetes_sim_matrix)
hiv_long <- hiv[hiv$journal_x %in% unique(hiv_top_sim$journal_x),] %>%
pivot_wider(names_from = journal_x, values_from = cosine_similarity)
hiv_sim_matrix <- as.matrix(hiv_long[-1])
rownames(hiv_sim_matrix) <- hiv_long[[1]]
heatmap(hiv_sim_matrix)
blogdown::serve_site()
blogdown::serve_site()
blogdown:::preview_site(startup = TRUE)
blogdown::serve_site()
blogdown::serve_site()
blogdown::serve_site()
blogdown:::preview_site(startup = TRUE)
blogdown:::preview_site()
blogdown:::preview_site()
library(magrittr); library(readr); library(glue); library(dplyr); library(tidyr)
workingDir <-
"C:/Users/seand/OneDrive/Documents/Class_Docs/RBDA_project_data/diabetes_asthma_hiv/"
asthma <- read_csv(glue("{workingDir}asthmaAll.csv"),
col_names = c("journal_x", "journal_asthma", "cosine_similarity"))
diabetes <- read_csv(glue("{workingDir}diabetesAll.csv"),
col_names = c("journal_x", "journal_diabetes", "cosine_similarity"))
hiv <- read_csv(glue("{workingDir}hivAll.csv"),
col_names = c("journal_x", "journal_hiv", "cosine_similarity"))
asthma$journal_asthma %>% unique() %>% head(3)
diabetes$journal_diabetes %>% unique() %>% head(3)
hiv$journal_hiv %>% unique() %>% head(3)
list(
distinct_all = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
) %>% as.data.frame( row.names = "n_journals")
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site()
list(
distinct_all = n_distinct(asthma$journal_x),
distinct_asthma = n_distinct(asthma$journal_asthma),
distinct_diabetes = n_distinct(diabetes$journal_diabetes),
distinct_hiv = n_distinct(hiv$journal_hiv)
) %>% as.data.frame( row.names = "n_journals")
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site()
blogdown:::preview_site(startup = TRUE)
